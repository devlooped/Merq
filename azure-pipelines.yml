name: merq

trigger:
  batch: false
  branches:
    include:
    - main
    - feature/*
    - rel/*
  paths:
    exclude:
    - docs
    - icon
pr:
  - main
  - master
  - feature/*
  - new/*
  - rel/*
  - pre/*
  - d16-*
  - d17-*

variables:
- template: build/variables.yml

resources:
  repositories:
  - repository: templates
    type: github
    name: xamarin/yaml-templates
    ref: refs/heads/main
    endpoint: xamarin

stages:
- template: build/stages/build.yml
- template: build/stages/upload.yml
- template: build/stages/compliance.yml
- template: build/stages/sbom.yml
